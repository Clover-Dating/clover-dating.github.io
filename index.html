<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <title>Clover &middot; Coming Soon</title>
  <meta name="description" content="Clover is a humane dating app focused on compatibility, without ads or swiping. Sign up to get notified when we launch.">

  <!-- Open Graph / Social -->
  <meta property="og:title" content="Clover - Coming Soon">
  <meta property="og:description" content="A humane dating app focused on compatibility, without ads or swiping. Sign up to get notified when we launch.">
  <meta property="og:image" content="banner.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
  <link rel="icon" type="image/png" sizes="64x64" href="favicon-64.png">
  <link rel="icon" type="image/png" sizes="128x128" href="favicon-128.png">
  <link rel="icon" type="image/png" sizes="256x256" href="favicon-256.png">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" sizes="256x256" href="favicon-256.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Jersey+10&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Jersey+10&display=swap"></noscript>

  <style>
    :root {
      /* Light theme */
      --bg: #F5F0EB;
      --surface: #FFFFFF;
      --text: #1A1A1A;
      --text-secondary: #524D48;
      --border: #2A2A2A;
      --border-light: #D1CBC4;
      --primary: #62a94c;
      --primary-hover: #4e8a3d;
      --error: #B83232;
      --input-bg: #FFFFFF;
      --hover-bg: #E8E2DC;
      --placeholder: #A8A29C;
    }

    [data-theme="dark"] {
      --bg: #1A1612;
      --surface: #26221E;
      --text: #F5F0EB;
      --text-secondary: #CDC8C2;
      --border: #3D3530;
      --border-light: #2D2824;
      --primary: #62a94c;
      --primary-hover: #4e8a3d;
      --error: #D44444;
      --input-bg: #2D2824;
      --hover-bg: #352F2A;
      --placeholder: #6A6560;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 48px 24px 1em;
      transition: background-color 0.2s, color 0.2s;
    }

    .theme-toggle {
      position: fixed;
      top: 12px;
      right: 12px;
      background: var(--bg);
      border: none;
      width: 45px;
      height: 45px;
      padding: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      border-radius: 50%;
      transition: background-color 0.2s;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      image-rendering: pixelated;
    }

    .theme-toggle .sun { display: none; }
    .theme-toggle .moon { display: block; }
    [data-theme="dark"] .theme-toggle .sun { display: block; }
    [data-theme="dark"] .theme-toggle .moon { display: none; }

    .container {
      max-width: 600px;
      width: 100%;
      text-align: center;
    }

    .logo {
      width: 228px;
      height: 212px;
      margin-bottom: 32px;
      image-rendering: pixelated;
    }

    h1 {
      font-family: 'Jersey 10', sans-serif;
      font-size: 64px;
      font-weight: 400;
      margin-bottom: 16px;
      letter-spacing: 1px;
    }

    .tagline {
      font-size: 18px;
      color: var(--text-secondary);
      margin-bottom: 32px;
      line-height: 1.5;
    }

    .body-text {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 32px;
      line-height: 1.6;
      text-align: justify;
    }

    .body-text p {
      margin-bottom: 16px;
    }

    .body-text p:last-child {
      margin-bottom: 0;
    }

    .body-text ul {
      list-style-type: square;
      margin-bottom: 16px;
      padding-left: 1.5em;
      text-align: left;
    }

    .body-text li {
      margin-bottom: 6px;
    }

    .body-text li:last-child {
      margin-bottom: 0;
    }

    .coming-soon {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-family: 'Jersey 10', sans-serif;
      color: var(--text-secondary);
      font-size: 28px;
      margin-bottom: 40px;
    }

    .coming-soon img {
      width: 24px;
      height: 24px;
      image-rendering: pixelated;
    }

    .rocket {
      position: relative;
      width: 24px;
      height: 24px;
      display: inline-block;
    }

    .rocket img {
      position: absolute;
      top: 0;
      left: 0;
    }

    .coming-soon .rocket-dark { display: block; }
    .coming-soon .rocket-light { display: none; }
    [data-theme="dark"] .coming-soon .rocket-dark { display: none; }
    [data-theme="dark"] .coming-soon .rocket-light { display: block; }

    .rocket .frame1 { animation: rocketFrame 1s step-end infinite; }
    .rocket .frame2 { opacity: 0; animation: rocketFrame 1s step-end infinite 0.5s; }

    @keyframes rocketFrame {
      0%, 50% { opacity: 1; }
      50.01%, 100% { opacity: 0; }
    }

    .signup-form {
      margin-bottom: 32px;
    }

    .signup-form form {
      display: inline-flex;
      gap: 12px;
    }

    .signup-form input[type="email"] {
      width: 250px;
      padding: 12px 16px;
      font-family: 'Jersey 10', sans-serif;
      font-size: 28px;
      border: none;
      background: var(--input-bg);
      color: var(--text-secondary);
      transition: background-color 0.2s;
      clip-path: polygon(
        4px 0, calc(100% - 4px) 0,
        calc(100% - 4px) 4px, 100% 4px,
        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
        calc(100% - 4px) 100%, 4px 100%,
        4px calc(100% - 4px), 0 calc(100% - 4px),
        0 4px, 4px 4px
      );
    }

    .signup-form input[type="email"]::placeholder {
      color: var(--placeholder);
    }

    .signup-form input[type="email"]:focus {
      outline: none;
    }

    .input-wrapper {
      position: relative;
      display: inline-flex;
    }

    .input-wrapper::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: var(--primary);
      clip-path: polygon(
        8px 0, calc(100% - 8px) 0,
        calc(100% - 8px) 4px, calc(100% - 4px) 4px,
        calc(100% - 4px) 8px, 100% 8px,
        100% calc(100% - 8px), calc(100% - 4px) calc(100% - 8px),
        calc(100% - 4px) calc(100% - 4px), calc(100% - 8px) calc(100% - 4px),
        calc(100% - 8px) 100%, 8px 100%,
        8px calc(100% - 4px), 4px calc(100% - 4px),
        4px calc(100% - 8px), 0 calc(100% - 8px),
        0 8px, 4px 8px,
        4px 4px, 8px 4px
      );
      opacity: 0;
      transition: opacity 0.15s;
      pointer-events: none;
    }

    .input-wrapper:hover::before {
      opacity: 0.4;
    }

    .input-wrapper:focus-within::before {
      opacity: 1;
    }

    .signup-form button {
      font-family: 'Jersey 10', sans-serif;
      padding: 12px 28px;
      font-size: 28px;
      background-color: var(--primary);
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s;
      clip-path: polygon(
        4px 0, calc(100% - 4px) 0,
        calc(100% - 4px) 4px, 100% 4px,
        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
        calc(100% - 4px) 100%, 4px 100%,
        4px calc(100% - 4px), 0 calc(100% - 4px),
        0 4px, 4px 4px
      );
    }

    .button-wrapper {
      position: relative;
      display: inline-flex;
    }

    .button-wrapper::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: var(--primary);
      clip-path: polygon(
        8px 0, calc(100% - 8px) 0,
        calc(100% - 8px) 4px, calc(100% - 4px) 4px,
        calc(100% - 4px) 8px, 100% 8px,
        100% calc(100% - 8px), calc(100% - 4px) calc(100% - 8px),
        calc(100% - 4px) calc(100% - 4px), calc(100% - 8px) calc(100% - 4px),
        calc(100% - 8px) 100%, 8px 100%,
        8px calc(100% - 4px), 4px calc(100% - 4px),
        4px calc(100% - 8px), 0 calc(100% - 8px),
        0 8px, 4px 8px,
        4px 4px, 8px 4px
      );
      opacity: 0;
      transition: opacity 0.15s;
      pointer-events: none;
    }

    .button-wrapper:hover::before {
      background: #111111;
      opacity: 0.6;
    }

    .button-wrapper:focus-within::before,
    .button-wrapper:active::before {
      background: var(--text-secondary);
      opacity: 1;
    }

    [data-theme="dark"] .button-wrapper:hover::before {
      background: #ffffff;
      opacity: .75;
    }

    [data-theme="dark"] .button-wrapper:focus-within::before,
    [data-theme="dark"] .button-wrapper:active::before {
      background: #ffffff;
      opacity: 1;
    }

    .signup-label {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .referral-card {
      position: relative;
    }

    .referral-card::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: var(--border-light);
      clip-path: polygon(
        12px 0, calc(100% - 12px) 0,
        calc(100% - 12px) 4px, calc(100% - 8px) 4px,
        calc(100% - 8px) 8px, calc(100% - 4px) 8px,
        calc(100% - 4px) 12px, 100% 12px,
        100% calc(100% - 12px), calc(100% - 4px) calc(100% - 12px),
        calc(100% - 4px) calc(100% - 8px), calc(100% - 8px) calc(100% - 8px),
        calc(100% - 8px) calc(100% - 4px), calc(100% - 12px) calc(100% - 4px),
        calc(100% - 12px) 100%, 12px 100%,
        12px calc(100% - 4px), 8px calc(100% - 4px),
        8px calc(100% - 8px), 4px calc(100% - 8px),
        4px calc(100% - 12px), 0 calc(100% - 12px),
        0 12px, 4px 12px,
        4px 8px, 8px 8px,
        8px 4px, 12px 4px
      );
      pointer-events: none;
    }

    .referral-success {
      position: relative;
      text-align: center;
      background: var(--surface);
      padding: 28px 24px;
      clip-path: polygon(
        8px 0, calc(100% - 8px) 0,
        calc(100% - 8px) 4px, calc(100% - 4px) 4px,
        calc(100% - 4px) 8px, 100% 8px,
        100% calc(100% - 8px), calc(100% - 4px) calc(100% - 8px),
        calc(100% - 4px) calc(100% - 4px), calc(100% - 8px) calc(100% - 4px),
        calc(100% - 8px) 100%, 8px 100%,
        8px calc(100% - 4px), 4px calc(100% - 4px),
        4px calc(100% - 8px), 0 calc(100% - 8px),
        0 8px, 4px 8px,
        4px 4px, 8px 4px
      );
    }

    .referral-success .success-title {
      font-family: 'Jersey 10', sans-serif;
      font-size: 36px;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .referral-success .success-subtitle {
      font-size: 16px;
      color: var(--text);
      margin-bottom: 16px;
      padding: 0 72px;
    }

    .referral-link-row {
      display: inline-flex;
      gap: 12px;
      align-items: stretch;
    }

    .referral-link-display::selection {
      background: #b3d4fc;
      color: #1A1A1A;
    }

    .referral-link-display {
      font-family: 'Jersey 10', sans-serif;
      font-size: 24px;
      padding: 10px 16px;
      background: var(--hover-bg);
      color: var(--text);
      user-select: all;
      display: flex;
      align-items: center;
      clip-path: polygon(
        4px 0, calc(100% - 4px) 0,
        calc(100% - 4px) 4px, 100% 4px,
        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
        calc(100% - 4px) 100%, 4px 100%,
        4px calc(100% - 4px), 0 calc(100% - 4px),
        0 4px, 4px 4px
      );
    }

    .copy-btn {
      font-family: 'Jersey 10', sans-serif;
      padding: 10px 24px;
      font-size: 24px;
      background-color: var(--primary);
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s;
      clip-path: polygon(
        4px 0, calc(100% - 4px) 0,
        calc(100% - 4px) 4px, 100% 4px,
        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
        calc(100% - 4px) 100%, 4px 100%,
        4px calc(100% - 4px), 0 calc(100% - 4px),
        0 4px, 4px 4px
      );
    }

    .copy-btn:hover {
      background-color: var(--primary-hover);
    }

    @media (max-width: 480px) {
      .referral-link-row {
        flex-direction: column;
        width: 100%;
      }

      .referral-link-display,
      .copy-btn {
        width: 100%;
        justify-content: center;
      }
    }

    .social-links {
      position: fixed;
      top: 16px;
      left: 16px;
      z-index: 10;
    }

    .social-bubble {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 10px 14px;
      background: var(--bg);
      border-radius: 999px;
      transition: background-color 0.2s;
    }

    .social-icon {
      color: var(--text-secondary);
      text-decoration: none;
      display: flex;
      transition: opacity 0.15s;
    }

    .social-icon:hover {
      opacity: 0.7;
    }

    .twitter-icon,
    .github-icon,
    .discord-icon,
    .substack-icon {
      width: 24px;
      height: 24px;
    }

    .donate-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-family: 'Jersey 10', sans-serif;
      font-size: 28px;
      padding: 12px 28px;
      background-color: var(--primary);
      color: white;
      text-decoration: none;
      cursor: pointer;
      transition: background-color 0.2s;
      clip-path: polygon(
        4px 0, calc(100% - 4px) 0,
        calc(100% - 4px) 4px, 100% 4px,
        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
        calc(100% - 4px) 100%, 4px 100%,
        4px calc(100% - 4px), 0 calc(100% - 4px),
        0 4px, 4px 4px
      );
    }

    .heart-icon {
      width: 24px;
      height: 24px;
      image-rendering: pixelated;
    }

    .footer {
      margin-top: auto;
      padding: 48px 0 14px;
      font-size: 13px;
      color: var(--text-secondary);
      letter-spacing: 0.5px;
    }

    .footer a {
      color: var(--text-secondary);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    /* --- Metrics section --- */
    .metrics-section {
      margin-top: 40px;
      margin-bottom: 8px;
      text-align: center;
    }

    .metrics-title {
      font-family: 'Jersey 10', sans-serif;
      font-size: 28px;
      color: var(--text-secondary);
      margin-bottom: 20px;
    }

    .metrics-grid {
      display: flex;
      gap: 32px;
      justify-content: center;
    }

    .metric {
      flex: 1;
      max-width: 240px;
    }

    .metric-chart {
      height: 90px;
      margin-bottom: 8px;
    }

    .metric-chart svg {
      width: 100%;
      height: 100%;
    }

    .metric-value {
      font-family: 'Jersey 10', sans-serif;
      font-size: 40px;
      color: var(--text);
      line-height: 1;
    }

    .metric-label {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    .metrics-updated {
      font-size: 12px;
      color: var(--placeholder);
      margin-top: 14px;
    }

    .metrics-range {
      font-size: 22px;
      color: var(--placeholder);
    }

    @media (max-width: 480px) {
      .metrics-grid {
        flex-direction: column;
        align-items: center;
        gap: 24px;
      }

      .metric {
        max-width: 200px;
        width: 100%;
      }
    }

    .fleuron {
      margin-bottom: 18px;
    }
    .fleuron img {
      height: 24px;
      width: auto;
      image-rendering: pixelated;
    }
    .fleuron .fleuron-light { display: block; margin: 0 auto; }
    .fleuron .fleuron-dark { display: none; }
    [data-theme="dark"] .fleuron .fleuron-light { display: none; }
    [data-theme="dark"] .fleuron .fleuron-dark { display: block; margin: 0 auto; }

    @media (max-width: 480px) {
      h1 {
        font-size: 48px;
      }

      .tagline {
        font-size: 16px;
      }

      .signup-form form {
        flex-direction: column;
        width: 100%;
      }

      .signup-form input[type="email"],
      .signup-form button {
        width: 100%;
      }

      .theme-toggle {
        top: 12px;
        right: 12px;
      }

      }
  </style>
  <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "0db9f099e49c488eaca767a6ce19a02b"}'></script><!-- End Cloudflare Web Analytics -->
</head>
<body>
  <button class="theme-toggle" aria-label="Toggle dark mode">
    <img class="sun" src="sun.png" alt="Light mode">
    <img class="moon" src="moon.png" alt="Dark mode">
  </button>

  <div class="container">
    <img src="logomark.png" alt="Clover" class="logo">

    <p class="tagline">
      <!-- Dating without games or swiping. Deep compatibility matching for people who remember when dating apps actually worked. -->
      <!-- Deep compatibility matching. No swiping.<br/>Like the best dating apps were—before they sold out. -->
      <!-- Dating without games or swiping. Deep compatibility matching—like the best dating apps, before they sold out. -->
      Humane and intentional online dating. Deep compatibility matching without the swiping, ads, or tricks.
    </p>

    <div class="coming-soon"><span class="rocket"><img class="rocket-dark frame1" src="rocket-dark.png" alt=""><img class="rocket-dark frame2" src="rocket-dark-2.png" alt=""><img class="rocket-light frame1" src="rocket-light.png" alt=""><img class="rocket-light frame2" src="rocket-light-2.png" alt=""></span>Coming soon</div>

    <div class="signup-form">
      <form id="signup-form">
        <span class="input-wrapper"><input type="email" id="email" placeholder="your@email.com" required></span>
        <span class="button-wrapper"><button type="submit">Join the waitlist</button></span>
      </form>
      <p id="form-message" style="margin-top: 12px; font-size: 14px;">&nbsp;</p>
    </div>

    <div class="body-text">
      <p>The year is 2026 and the online dating scene is in shambles. The most popular apps are highly extractive, and anyone who uses them is certainly "braving it out there." The design of most dating apps is frankly insulting, given their brazen disrespect for users' time, attention, effort, and preferences.</p>
      <p>So we're doing something about it. Clover is a labor of love built for the true benefit of its users. Here's what that means:</p>
      <ul>
        <li>Deep compatibility matching through a weighted question system</li>
        <li>Profiles designed to reward depth and personality</li>
        <li>An open messaging system with real inbox management</li>
        <li>No ads, no gamification, no swiping, no premium paywalls, no dark patterns</li>
      </ul>
      <p>We believe that technology has unbelievable potential to help people find each other, and that the current state of the most popular dating apps reflects a gross misuse of that potential. Our aim is to find you your best match, period.</p>
      <p><strong>Clover is free until there's a large enough userbase near you, at which point it'll be $3&ndash;5/month</strong> — and that includes every feature. For comparison, Tinder, Hinge, and Bumble charge $25–50/month for their most advanced tiers. No VCs, no investors, no compromises.</p>
      <p>If you'd like to support Clover's development before launch, donations are gratefully accepted and go directly toward building and launching the app.</p>
    </div>

    <div class="social-links">
      <div class="social-bubble">
        <!--
        <a href="https://twitter.com/DateClover" target="_blank" rel="noopener" class="social-icon" aria-label="Follow us on X">
          <svg class="twitter-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
        </a>
        -->
        <a href="https://github.com/Clover-Dating" target="_blank" rel="noopener" class="social-icon" aria-label="GitHub">
          <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
        </a>
        <a href="https://discord.gg/SzRaSh68tn" target="_blank" rel="noopener" class="social-icon" aria-label="Discord">
          <svg class="discord-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
          </svg>
        </a>
        <a href="https://blog.clover.dating" target="_blank" rel="noopener" class="social-icon" aria-label="Blog">
          <svg class="substack-icon" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
            <path d="M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24L12 18.11 22.54 24V10.812H1.46zM22.54 0H1.46v2.836h21.08V0z"/>
          </svg>
        </a>
      </div>
    </div>

    <div class="metrics-section" id="metrics-section" style="display:none;">
      <div class="metrics-title">Development Activity <span class="metrics-range">(last 14 days)</span></div>
      <div class="metrics-grid">
        <div class="metric">
          <div class="metric-chart" id="commits-chart"></div>
          <div class="metric-value" id="commits-value"></div>
          <div class="metric-label">commits</div>
        </div>
        <div class="metric">
          <div class="metric-chart" id="loc-chart"></div>
          <div class="metric-value" id="loc-value"></div>
          <div class="metric-label">lines of code</div>
        </div>
      </div>
      <div class="metrics-updated" id="metrics-updated"></div>
    </div>

    <!--
    <div style="margin-top: 40px; text-align: center;">
      <span class="button-wrapper"><a href="https://givebutter.com/JdcVTE" target="_blank" rel="noopener" class="donate-button">
        <img src="heart-light.png" alt="" class="heart-icon">
        Donate
      </a></span>
    </div>
    -->

    </div>

  <footer class="footer">
    <div class="fleuron">
      <img class="fleuron-light" src="fleuron-light.png" alt="">
      <img class="fleuron-dark" src="fleuron-dark.png" alt="">
    </div>
    Clover Dating &middot; 2026 &middot; <a href="mailto:hello@clover.dating">hello@clover.dating</a>
  </footer>

  <!-- Supabase -->
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" onload="supabaseSetup()"></script>
  <script>
    // Theme handling
    const themeToggle = document.querySelector('.theme-toggle');
    const THEME_TTL = 60 * 60 * 1000; // 1 hour

    function hasValidUserPreference() {
      const savedAt = localStorage.getItem('theme_set_at');
      return savedAt && (Date.now() - parseInt(savedAt)) < THEME_TTL;
    }

    function getPreferredTheme() {
      if (hasValidUserPreference()) return localStorage.getItem('theme');
      // Expired or no preference — clean up and use system theme
      localStorage.removeItem('theme');
      localStorage.removeItem('theme_set_at');
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
    }

    // Initialize theme
    setTheme(getPreferredTheme());

    // Listen for system theme changes (applies when no valid user override)
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      if (!hasValidUserPreference()) {
        setTheme(e.matches ? 'dark' : 'light');
      }
    });

    // Toggle button — only explicit toggles persist with TTL
    // Debounce guards against Arc mobile (and similar) firing click twice per tap
    let lastToggle = 0;
    themeToggle.addEventListener('click', () => {
      const now = Date.now();
      if (now - lastToggle < 50) return;
      lastToggle = now;
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      setTheme(next);
      localStorage.setItem('theme', next);
      localStorage.setItem('theme_set_at', now.toString());
    });

    // Track visit (deduplicated, 30-min cooldown)
    // Geo resolved server-side by Cloudflare Worker at /api/visit
    function trackPageVisit() {
      var COOLDOWN = 30 * 60 * 1000;
      var last = localStorage.getItem('clover_last_visit');
      if (last && Date.now() - parseInt(last) < COOLDOWN) return;

      var ua = navigator.userAgent;
      var os = /iPhone|iPad/.test(ua) ? 'iOS' : /Mac/.test(ua) ? 'macOS' : /Android/.test(ua) ? 'Android' : /Windows/.test(ua) ? 'Windows' : /Linux/.test(ua) ? 'Linux' : 'Other';
      var browser = /Edg/.test(ua) ? 'Edge' : /Chrome/.test(ua) ? 'Chrome' : /Firefox/.test(ua) ? 'Firefox' : /Safari/.test(ua) ? 'Safari' : 'Other';

      fetch('/api/visit', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          page_path: window.location.pathname || '/',
          referrer: document.referrer || null,
          platform: os + ' / ' + browser
        })
      }).then(function(r) {
        if (r.ok) localStorage.setItem('clover_last_visit', Date.now().toString());
      }).catch(function() {});
    };
    trackPageVisit();

    function supabaseSetup() {
      const SUPABASE_URL = 'https://pufzimcovdciuhuzosqj.supabase.co';
      const SUPABASE_PUBLISHABLE_KEY = 'sb_publishable_5jWHgF2c4zU6Q_DaaX-bmg_c6vCY-1L';
      const db = window.supabase.createClient(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY);

      const refParam = new URLSearchParams(window.location.search).get('ref');

      const form = document.getElementById('signup-form');
      const message = document.getElementById('form-message');
      const signupFormDiv = document.querySelector('.signup-form');

      function showReferralSuccess(referralCode) {
        signupFormDiv.innerHTML =
          '<div class="referral-card">' +
          '<div class="referral-success">' +
            '<div class="success-title">You\u2019re in! <img src="favicon-32.png" alt="" style="width:28px;height:28px;image-rendering:pixelated;vertical-align:-2px;"></div>' +
            '<div class="success-subtitle">Share your link — each person you refer earns you one month of credit toward Clover ($3&ndash;5):</div>' +
            '<div class="referral-link-row">' +
              '<span class="referral-link-display" id="referral-link-text">clover.dating/?ref=' + referralCode + '</span>' +
              '<button class="copy-btn" id="copy-referral-btn">Copy</button>' +
            '</div>' +
          '</div>' +
          '</div>';
        // Auto-select the referral link text
        var linkEl = document.getElementById('referral-link-text');
        var range = document.createRange();
        range.selectNodeContents(linkEl);
        var sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);

        document.getElementById('copy-referral-btn').addEventListener('click', function() {
          navigator.clipboard.writeText('https://clover.dating/?ref=' + referralCode).then(function() {
            document.getElementById('copy-referral-btn').textContent = 'Copied!';
            setTimeout(function() {
              document.getElementById('copy-referral-btn').textContent = 'Copy';
            }, 2000);
          });
        });
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;

        message.textContent = 'Signing up...';
        message.style.color = 'var(--text-secondary)';

        const row = { email };
        if (refParam) row.referred_by = refParam;

        const { data, error } = await db
          .from('email_signups')
          .insert(row)
          .select('referral_code')
          .single();

        if (error) {
          if (error.code === '23505') {
            // Already signed up — fetch their existing referral code
            const { data: existing } = await db
              .from('email_signups')
              .select('referral_code')
              .eq('email', email)
              .single();

            if (existing) {
              showReferralSuccess(existing.referral_code);
            } else {
              message.textContent = "You're already on the list!";
              message.style.color = 'var(--primary)';
            }
          } else {
            message.textContent = 'Something went wrong. Try again?';
            message.style.color = 'var(--error)';
          }
        } else {
          showReferralSuccess(data.referral_code);
        }
      });
    }
  </script>
  <script>
  function smartenQuotes(el) {
    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT);
    while (walker.nextNode()) {
      const node = walker.currentNode;
      node.nodeValue = node.nodeValue
        .replace(/(^|[\s(\[{])"(\S)/g, '$1\u201c$2')  // opening double
        .replace(/(\S)"([\s.,;:!?\])}]|$)/g, '$1\u201d$2')  // closing double
        .replace(/"(\S)/g, '\u201c$1')  // fallback opening double
        .replace(/(\S)"/g, '$1\u201d')  // fallback closing double
        .replace(/(^|[\s(\[{])'(\S)/g, '$1\u2018$2')  // opening single
        .replace(/(\w)'(\w)/g, '$1\u2019$2')  // apostrophe
        .replace(/(\S)'([\s.,;:!?\])}]|$)/g, '$1\u2019$2');  // closing single
    }
  }
  smartenQuotes(document.body);
  </script>
  <script>
  // Development metrics sparklines
  (function() {
    function formatNumber(n) {
      return n >= 1000 ? (n / 1000).toFixed(1).replace(/\.0$/, '') + 'k' : n.toString();
    }

    function sparkline(container, values, color) {
      var n = values.length;
      if (n < 2) return;

      var labelW = 38, w = 240, h = 70, pad = 4;
      var chartL = labelW, chartR = w - pad;
      var chartT = pad, chartB = h - pad;
      var min = Math.min.apply(null, values);
      var max = Math.max.apply(null, values);
      var range = max - min || 1;

      // Build points
      var points = [];
      for (var i = 0; i < n; i++) {
        var x = chartL + (i / (n - 1)) * (chartR - chartL);
        var y = chartB - ((values[i] - min) / range) * (chartB - chartT);
        points.push([x, y]);
      }

      // SVG path
      var line = 'M' + points.map(function(p) { return p[0] + ',' + p[1]; }).join('L');
      var area = line + 'L' + points[n - 1][0] + ',' + chartB + 'L' + points[0][0] + ',' + chartB + 'Z';

      var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('viewBox', '0 0 ' + w + ' ' + h);
      svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');

      // Y-axis labels — bottom, middle, top
      var labelColor = getComputedStyle(document.documentElement).getPropertyValue('--placeholder').trim() || '#999';
      var ticks = [min, min + range / 2, max];
      var tickYs = [chartB, (chartT + chartB) / 2, chartT];
      for (var t = 0; t < 3; t++) {
        var label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        label.setAttribute('x', labelW - 6);
        label.setAttribute('y', tickYs[t]);
        label.setAttribute('text-anchor', 'end');
        label.setAttribute('dominant-baseline', t === 0 ? 'auto' : t === 2 ? 'hanging' : 'central');
        label.setAttribute('fill', labelColor);
        label.setAttribute('font-size', '10');
        label.setAttribute('font-family', 'Inter, sans-serif');
        label.textContent = formatNumber(Math.round(ticks[t]));
        svg.appendChild(label);
      }

      // Filled area
      var areaEl = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      areaEl.setAttribute('d', area);
      areaEl.setAttribute('fill', color);
      areaEl.setAttribute('opacity', '0.15');
      svg.appendChild(areaEl);

      // Line
      var lineEl = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      lineEl.setAttribute('d', line);
      lineEl.setAttribute('fill', 'none');
      lineEl.setAttribute('stroke', color);
      lineEl.setAttribute('stroke-width', '2.5');
      lineEl.setAttribute('stroke-linecap', 'round');
      lineEl.setAttribute('stroke-linejoin', 'round');
      svg.appendChild(lineEl);

      // Endpoint dot
      var dot = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      dot.setAttribute('cx', points[n - 1][0]);
      dot.setAttribute('cy', points[n - 1][1]);
      dot.setAttribute('r', '3.5');
      dot.setAttribute('fill', color);
      svg.appendChild(dot);

      container.appendChild(svg);
    }

    fetch('metrics.json')
      .then(function(r) { return r.json(); })
      .then(function(data) {
        if (!data || !data.length) return;

        // Show last 14 days
        var recent = data.slice(-14);
        var latest = recent[recent.length - 1];
        document.getElementById('commits-value').textContent = formatNumber(latest.commits);
        document.getElementById('loc-value').textContent = formatNumber(latest.loc);

        var green = '#62a94c';
        sparkline(
          document.getElementById('commits-chart'),
          recent.map(function(d) { return d.commits; }),
          green
        );
        sparkline(
          document.getElementById('loc-chart'),
          recent.map(function(d) { return d.loc; }),
          green
        );

        // "Updated Feb 13, 2026"
        var d = new Date(latest.date + 'T12:00:00');
        var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
        document.getElementById('metrics-updated').textContent =
          'Updated ' + months[d.getMonth()] + ' ' + d.getDate() + ', ' + d.getFullYear();

        document.getElementById('metrics-section').style.display = '';
      })
      .catch(function() {});
  })();
  </script>
</body>
</html>
